<!DOCTYPE html>
<html>
  <head>
    <title>VCard Generator</title>
    <style>
      /* Customize button styles */
      button {
        background-color: #4CAF50;
        color: #ffffff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      button:hover {
        background-color: #3e8e41;
      }
      #submit-btn {
        background-color: #008000;
      }
      #download-btn {
        background-color: #0066cc;
      }
      #join-group-btn {
        background-color: #ff9900;
      }
    </style>
  </head>
  <body>
    <h1>VCard Generator</h1>
    <form id="vcard-form">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name"><br><br>
      <label for="phone">Phone Number (International Format):</label>
      <input type="text" id="phone" name="phone"><br><br>
      <button id="submit-btn">Submit</button>
      <button id="download-btn">Download VCF</button>
      <button id="join-group-btn">Join Group</button>
    </form>

    <div id="vcard-container"></div>

    <script>
      const form = document.querySelector('form');
const vcardContainer = document.getElementById('vcard-container');
const downloadBtn = document.getElementById('download-btn');
const joinGroupBtn = document.getElementById('join-group-btn');
let submittedEntries = 0;

form.addEventListener('submit', function(event) {
  event.preventDefault();

  if (form.checkValidity() === false) {
    event.stopPropagation();
  } else {
    submittedEntries++;
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const vcard = generateVCard(name, phone);
    vcardContainer.innerHTML = vcard;
    form.reset();
    alert(`Wow, you have submitted your details successfully to Silva VCF! You are entry number ${submittedEntries}`);
  }

  form.classList.add('was-validated');
});

downloadBtn.addEventListener('click', function() {
  const vcardBlob = new Blob([vcardContainer.innerHTML], { type: 'text/vcard' });
  const url = URL.createObjectURL(vcardBlob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'contacts.vcf';
  a.click();
});

joinGroupBtn.addEventListener('click', function() {
  // Add join group functionality here
});

function generateVCard(name, phone) {
  return `BEGIN:VCARD
VERSION:3.0
N:${name};;Mr.;;
FN:${name}
TEL;TYPE=CELL:${phone}
END:VCARD`;
  }
    </script>
  </body>
</html>
